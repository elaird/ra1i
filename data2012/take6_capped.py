from inputData import syst
from data import data,scaled

#weights capped to 5

def common(x, systMode = 1240) :
    x._htBinLowerEdges = (275.0, 325.0, 375.0, 475.0, 575.0, 675.0, 775.0, 875.0)
    x._htMaxForPlot = 975.0
    x._htMeans = ( 297.96, 347.558, 415.942, 516.723, 617.19, 718.153, 818.612, 1044.56 )

    x._mergeBins = None
    x._constantMcRatioAfterHere = (    0,     0,     0,     0,     0,     0,     0,     1)

    x._lumi =  	{
        "mumu"               :   4.963e+03 ,
        "muon"               :   4.963e+03 ,
        "mcPhot"             :   4.988e+03 ,
        "phot"               :   4.988e+03 ,
        "mcHad"              :   4.98e+03 ,
        "had"                :   4.98e+03 ,
        "mcMuon"             :   4.963e+03 ,
        "mcMumu"             :   4.963e+03 ,
	}

    x._triggerEfficiencies = {
        "hadBulk":       (     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000),
        "had":           (     0.900,     0.990,     0.990,     0.990,     1.000,     1.000,     1.000,     1.000),
        "muon":          (     0.880,     0.880,     0.880,     0.880,     0.880,     0.880,     0.880,     0.880),
        "phot":          (     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000),
        "mumu":          (     0.950,     0.960,     0.960,     0.970,     0.970,     0.970,     0.980,     0.980),
        }
    x._purities = {
        "phot":          (     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000),
        }
    x._mcExpectationsBeforeTrigger["mcGjets"] =  x._mcExpectationsBeforeTrigger["mcPhot"]
    x._mcExtraBeforeTrigger = {}
    x._observations["nHadBulk"] = (231496000, 103615000, 76347400, 25456300, 9467480, 3855680, 1729150, 1750550)
    syst.load(x, mode = systMode)


class data_0b_no_aT(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 1.336e+03, 478.7, 175.5, 65.43, 24.94, 28.4, ) ,
            "mcHad"              :   ( 3.81e+03, 1.384e+03, 1.009e+03, 358.5, 132.9, 51.35, 20.82, 17.39, ) ,
            "mcTtw"              :   ( 2.23e+03, 697.9, 507.0, 177.5, 62.83, 22.73, 9.413, 8.423, ) ,
            "mcMuon"             :   ( 6.258e+03, 3.162e+03, 2.918e+03, 1.343e+03, 616.6, 296.8, 152.0, 189.3, ) ,
            "mcZinv"             :   ( 1.58e+03, 686.1, 502.5, 181.0, 70.08, 28.62, 11.41, 8.97, ) ,
            "mcMumu"             :   ( 565.6, 358.4, 304.3, 132.6, 71.9, 35.82, 13.17, 18.54, ) ,
            }
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 259.0, 59.54, 27.56, 19.75, 11.84, 8.377, 5.68, 6.59, ) ,
            "mcMumuErr"          :   ( 30.78, 25.44, 22.38, 15.17, 10.89, 7.487, 4.278, 5.425, ) ,
            "mcHadErr"           :   ( 234.5, 20.88, 13.92, 6.728, 4.048, 2.432, 1.487, 1.481, ) ,
            "mcZinvErr"          :   ( 13.31, 8.403, 6.39, 3.449, 2.108, 1.368, 0.8445, 0.7597, ) ,
            "mcTtwErr"           :   ( 234.1, 19.12, 12.37, 5.777, 3.456, 2.011, 1.224, 1.272, ) ,
            "mcPhotErr"          :   ( None, None, 36.76, 20.52, 11.96, 7.081, 4.015, 4.822, ) ,
            }
        self._observations =  	{
            "nPhot"              :   ( None, None, 1.338e+03, 464.0, 176.0, 66.0, 21.0, 16.0, ) ,
            "nHad"               :   ( 3.169e+03, 1.432e+03, 983.0, 349.0, 119.0, 53.0, 11.0, 25.0, ) ,
            "nMuon"              :   ( 4.882e+03, 2.544e+03, 2.391e+03, 1.01e+03, 430.0, 175.0, 110.0, 134.0, ) ,
            "nMumu"              :   ( 620.0, 312.0, 294.0, 113.0, 72.0, 27.0, 13.0, 10.0, ) ,
            }
        common(self)

class data_0b(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 1.336e+03, 478.7, 175.5, 65.43, 24.94, 28.4, ) ,
            "mcHad"              :   ( 3.81e+03, 1.384e+03, 1.009e+03, 358.5, 132.9, 51.35, 20.82, 17.39, ) ,
            "mcTtw"              :   ( 2.23e+03, 697.9, 507.0, 177.5, 62.83, 22.73, 9.413, 8.423, ) ,
            "mcMuon"             :   ( 1.152e+03, 538.6, 394.7, 157.4, 59.07, 20.34, 10.1, 7.443, ) ,
            "mcZinv"             :   ( 1.58e+03, 686.1, 502.5, 181.0, 70.08, 28.62, 11.41, 8.97, ) ,
            "mcMumu"             :   ( 123.5, 54.46, 70.67, 30.68, 9.846, 1.635, 0.0, 0.02623, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 51.39, 37.68, 9.459, 6.096, 3.467, 1.881, 1.491, 1.255, ) ,
            "mcMumuErr"          :   ( 13.71, 8.788, 11.99, 8.652, 4.331, 1.25, 0.0, 0.01433, ) ,
            "mcHadErr"           :   ( 234.5, 20.88, 13.92, 6.728, 4.048, 2.432, 1.487, 1.481, ) ,
            "mcZinvErr"          :   ( 13.31, 8.403, 6.39, 3.449, 2.108, 1.368, 0.8445, 0.7597, ) ,
            "mcTtwErr"           :   ( 234.1, 19.12, 12.37, 5.777, 3.456, 2.011, 1.224, 1.272, ) ,
            "mcPhotErr"          :   ( None, None, 36.76, 20.52, 11.96, 7.081, 4.015, 4.822, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 1.338e+03, 464.0, 176.0, 66.0, 21.0, 16.0, ) ,
            "nHad"               :   ( 3.169e+03, 1.432e+03, 983.0, 349.0, 119.0, 53.0, 11.0, 25.0, ) ,
            "nMuon"              :   ( 944.0, 390.0, 330.0, 95.0, 33.0, 8.0, 6.0, 1.0, ) ,
            "nMumu"              :   ( 132.0, 68.0, 42.0, 17.0, 3.0, 4.0, 2.0, 0.0, ) ,
            }
        common(self)

class data_1b(data) :
    def _fill(self) :

        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 127.5, 49.34, 21.25, 9.454, 3.64, 5.102, ) ,
            "mcHad"              :   ( 701.2, 286.5, 212.1, 75.14, 29.88, 10.06, 6.06, 3.577, ) ,
            "mcTtw"              :   ( 534.3, 213.5, 159.5, 54.28, 21.12, 6.481, 4.346, 2.29, ) ,
            "mcMuon"             :   ( 1.797e+03, 974.3, 876.3, 429.9, 204.1, 92.44, 48.27, 57.63, ) ,
            "mcZinv"             :   ( 166.9, 72.98, 52.61, 20.86, 8.753, 3.579, 1.714, 1.287, ) ,
            "mcMumu"             :   ( 78.27, 47.49, 54.26, 17.88, 10.5, 3.916, 3.637, 2.218, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 87.05, 33.36, 30.08, 17.65, 14.18, 8.628, 6.965, 10.07, ) ,
            "mcMumuErr"          :   ( 5.783, 5.447, 3.788, 1.26, 3.149, 1.198, 0.2368, 0.4059, ) ,
            "mcHadErr"           :   ( 36.12, 20.62, 11.05, 6.943, 4.08, 2.705, 3.696, 0.6407, ) ,
            "mcZinvErr"          :   ( 2.615, 1.71, 1.265, 0.8686, 0.5312, 0.1947, 0.1417, 0.07827, ) ,
            "mcTtwErr"           :   ( 36.03, 20.55, 10.98, 6.889, 4.045, 2.698, 3.693, 0.6359, ) ,
            "mcPhotErr"          :   ( None, None, 6.77, 4.076, 1.645, 2.437, 0.2453, 2.237, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 180.0, 77.0, 21.0, 11.0, 10.0, 2.0, ) ,
            "nHad"               :   ( 712.0, 291.0, 227.0, 77.0, 28.0, 8.0, 3.0, 4.0, ) ,
            "nMuon"              :   ( 1.781e+03, 885.0, 816.0, 379.0, 169.0, 80.0, 40.0, 25.0, ) ,
            "nMumu"              :   ( 82.0, 46.0, 53.0, 24.0, 10.0, 4.0, 4.0, 3.0, ) ,
            }
        common(self)

class data_2b(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 8.448, 3.988, 2.352, 0.8003, 0.2902, 0.3333, ) ,
            "mcHad"              :   ( 160.1, 70.0, 57.32, 21.38, 10.34, 2.455, 2.101, 0.8907, ) ,
            "mcTtw"              :   ( 143.0, 63.26, 52.15, 19.43, 9.54, 2.075, 1.973, 0.7919, ) ,
            "mcMuon"             :   ( 709.2, 405.2, 371.8, 195.6, 92.91, 39.68, 21.95, 19.94, ) ,
            "mcZinv"             :   ( 17.09, 6.737, 5.175, 1.958, 0.7968, 0.3802, 0.1279, 0.09879, ) ,
            "mcMumu"             :   ( 22.41, 13.99, 10.45, 4.674, 3.38, 0.821, 0.5408, 0.5672, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 20.68, 15.62, 10.44, 8.309, 5.427, 3.586, 2.545, 2.453, ) ,
            "mcMumuErr"          :   ( 3.35, 2.853, 2.099, 1.217, 2.296, 0.6555, 0.303, 0.5176, ) ,
            "mcHadErr"           :   ( 14.94, 4.132, 7.096, 2.341, 1.729, 0.5349, 0.676, 0.5374, ) ,
            "mcZinvErr"          :   ( 1.045, 0.6348, 0.5081, 0.2543, 0.1642, 0.1323, 0.03163, 0.03124, ) ,
            "mcTtwErr"           :   ( 14.91, 4.083, 7.078, 2.327, 1.722, 0.5183, 0.6753, 0.5365, ) ,
            "mcPhotErr"          :   ( None, None, 1.553, 1.186, 0.9996, 0.3547, 0.1159, 0.1183, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 18.0, 9.0, 1.0, 1.0, 0.0, 2.0, ) ,
            "nHad"               :   ( 196.0, 79.0, 56.0, 34.0, 10.0, 2.0, 0.0, 2.0, ) ,
            "nMuon"              :   ( 775.0, 369.0, 357.0, 187.0, 71.0, 35.0, 15.0, 10.0, ) ,
            "nMumu"              :   ( 16.0, 13.0, 14.0, 4.0, 0.0, 1.0, 0.0, 2.0, ) ,
            }
        common(self)

class data_ge3b(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 0.2103, 0.1069, 0.06766, 0.02559, 0.003947, 0.003566, ) ,
            "mcHad"              :   ( 10.27, 5.099, 4.167, 2.414, 1.415, 0.4021, 0.5855, 0.134, ) ,
            "mcTtw"              :   ( 9.849, 4.937, 4.042, 2.355, 1.389, 0.3853, 0.582, 0.1311, ) ,
            "mcMuon"             :   ( 40.81, 26.24, 25.04, 18.79, 10.14, 5.15, 2.841, 3.323, ) ,
            "mcZinv"             :   ( 0.4234, 0.1614, 0.1256, 0.05915, 0.02679, 0.01676, 0.003497, 0.002952, ) ,
            "mcMumu"             :   ( 0.6714, 0.2855, 0.498, 0.1914, 0.2243, 0.05265, 0.04139, 0.02629, ) ,
            }

        self._mcStatError =  	{
            "mcMuonErr"          :   ( 0.7379, 0.7768, 0.549, 0.5439, 0.3951, 0.2866, 0.1948, 0.21, ) ,
            "mcMumuErr"          :   ( 0.0938, 0.05524, 0.08058, 0.04023, 0.1388, 0.03025, 0.02561, 0.01624, ) ,
            "mcHadErr"           :   ( 0.6813, 0.2329, 0.3357, 0.1751, 0.138, 0.0546, 0.07824, 0.04081, ) ,
            "mcZinvErr"          :   ( 0.02839, 0.01643, 0.01254, 0.008383, 0.005811, 0.006269, 0.001238, 0.001156, ) ,
            "mcTtwErr"           :   ( 0.6807, 0.2323, 0.3354, 0.1749, 0.1379, 0.05424, 0.07823, 0.04079, ) ,
            "mcPhotErr"          :   ( None, None, 0.04267, 0.03488, 0.02984, 0.01481, 0.003507, 0.0, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 1.0, 2.0, 0.0, 0.0, 0.0, 0.0, ) ,
            "nHad"               :   ( 17.0, 1.0, 3.0, 2.0, 1.0, 1.0, 0.0, 0.0, ) ,
            "nMuon"              :   ( 49.0, 31.0, 29.0, 16.0, 8.0, 4.0, 2.0, 2.0, ) ,
            "nMumu"              :   ( 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ) ,
            }
        common(self)
