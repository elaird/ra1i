from inputData import syst
from data import data,scaled

#no weights

def common(x, systMode = 1240) :
    x._htBinLowerEdges = (275.0, 325.0, 375.0, 475.0, 575.0, 675.0, 775.0, 875.0)
    x._htMaxForPlot = 975.0
    x._htMeans = ( 297.96, 347.558, 415.942, 516.723, 617.19, 718.153, 818.612, 1044.56 )

    x._mergeBins = None
    x._constantMcRatioAfterHere = (    0,     0,     0,     0,     0,     0,     0,     1)

    x._lumi =  	{
        "mumu"               :   4.963e+03 ,
        "muon"               :   4.963e+03 ,
        "mcPhot"             :   4.988e+03 ,
        "phot"               :   4.988e+03 ,
        "mcHad"              :   4.98e+03 ,
        "had"                :   4.98e+03 ,
        "mcMuon"             :   4.963e+03 ,
        "mcMumu"             :   4.963e+03 ,
	}

    x._triggerEfficiencies = {
        "hadBulk":       (     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000),
        "had":           (     0.900,     0.990,     0.990,     0.990,     1.000,     1.000,     1.000,     1.000),
        "muon":          (     0.880,     0.880,     0.880,     0.880,     0.880,     0.880,     0.880,     0.880),
        "phot":          (     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000),
        "mumu":          (     0.950,     0.960,     0.960,     0.970,     0.970,     0.970,     0.980,     0.980),
        }
    x._purities = {
        "phot":          (     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000,     1.000),
        }
    x._mcExpectationsBeforeTrigger["mcGjets"] =  x._mcExpectationsBeforeTrigger["mcPhot"]
    x._mcExtraBeforeTrigger = {}
    x._observations["nHadBulk"] = (231496000, 103615000, 76347400, 25456300, 9467480, 3855680, 1729150, 1750550)
    syst.load(x, mode = systMode)


class data_0b_no_aT(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 1.543e+03, 587.3, 222.9, 86.34, 38.91, 31.78, ) ,
            "mcHad"              :   ( 4.522e+03, 1.703e+03, 1.231e+03, 433.9, 160.1, 63.0, 26.89, 20.87, ) ,
            "mcTtw"              :   ( 2.642e+03, 870.5, 637.7, 217.6, 76.53, 29.28, 12.91, 10.33, ) ,
            "mcMuon"             :   ( 7.304e+03, 3.653e+03, 3.346e+03, 1.576e+03, 694.9, 335.9, 168.4, 219.7, ) ,
            "mcZinv"             :   ( 1.88e+03, 832.1, 593.6, 216.3, 83.61, 33.72, 13.98, 10.54, ) ,
            "mcMumu"             :   ( 720.8, 399.7, 371.2, 164.8, 87.79, 48.47, 17.57, 17.22, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 221.5, 88.97, 19.11, 41.23, 7.851, 5.542, 3.876, 7.466, ) ,
            "mcMumuErr"          :   ( 22.71, 16.92, 16.28, 10.75, 7.901, 5.902, 3.332, 3.388, ) ,
            "mcHadErr"           :   ( 188.2, 41.64, 40.67, 4.921, 2.872, 1.875, 1.166, 1.035, ) ,
            "mcZinvErr"          :   ( 9.41, 6.05, 4.471, 2.436, 1.502, 0.9508, 0.6083, 0.5252, ) ,
            "mcTtwErr"           :   ( 188.0, 41.19, 40.42, 4.276, 2.448, 1.616, 0.9949, 0.8922, ) ,
            "mcPhotErr"          :   ( None, None, 24.97, 14.65, 8.965, 5.537, 3.709, 3.341, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 1.338e+03, 464.0, 176.0, 66.0, 21.0, 16.0, ) ,
            "nHad"               :   ( 3.169e+03, 1.432e+03, 983.0, 349.0, 119.0, 53.0, 11.0, 25.0, ) ,
            "nMuon"              :   ( 4.882e+03, 2.544e+03, 2.391e+03, 1.01e+03, 430.0, 175.0, 110.0, 134.0, ) ,
            "nMumu"              :   ( 620.0, 312.0, 294.0, 113.0, 72.0, 27.0, 13.0, 10.0, ) ,
            }
        common(self)

class data_0b(data) :
    def _fill(self) :

        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 1.543e+03, 587.3, 222.9, 86.34, 38.91, 31.78, ) ,
            "mcHad"              :   ( 4.522e+03, 1.703e+03, 1.231e+03, 433.9, 160.1, 63.0, 26.89, 20.87, ) ,
            "mcTtw"              :   ( 2.642e+03, 870.5, 637.7, 217.6, 76.53, 29.28, 12.91, 10.33, ) ,
            "mcMuon"             :   ( 1.444e+03, 613.1, 455.8, 165.6, 64.68, 25.65, 10.42, 7.031, ) ,
            "mcZinv"             :   ( 1.88e+03, 832.1, 593.6, 216.3, 83.61, 33.72, 13.98, 10.54, ) ,
            "mcMumu"             :   ( 165.8, 76.72, 65.81, 28.1, 11.11, 2.982, 0.0, 0.09982, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 98.44, 39.43, 6.715, 3.802, 2.355, 1.427, 0.9135, 0.7398, ) ,
            "mcMumuErr"          :   ( 10.81, 7.368, 6.846, 4.434, 2.801, 1.453, 0.0, 0.06421, ) ,
            "mcHadErr"           :   ( 188.2, 41.64, 40.67, 4.921, 2.872, 1.875, 1.166, 1.035, ) ,
            "mcZinvErr"          :   ( 9.41, 6.05, 4.471, 2.436, 1.502, 0.9508, 0.6083, 0.5252, ) ,
            "mcTtwErr"           :   ( 188.0, 41.19, 40.42, 4.276, 2.448, 1.616, 0.9949, 0.8922, ) ,
            "mcPhotErr"          :   ( None, None, 24.97, 14.65, 8.965, 5.537, 3.709, 3.341, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 1.338e+03, 464.0, 176.0, 66.0, 21.0, 16.0, ) ,
            "nHad"               :   ( 3.169e+03, 1.432e+03, 983.0, 349.0, 119.0, 53.0, 11.0, 25.0, ) ,
            "nMuon"              :   ( 944.0, 390.0, 330.0, 95.0, 33.0, 8.0, 6.0, 1.0, ) ,
            "nMumu"              :   ( 132.0, 68.0, 42.0, 17.0, 3.0, 4.0, 2.0, 0.0, ) ,
            }
        common(self)

class data_1b(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 156.2, 62.05, 26.17, 11.45, 5.468, 4.373, ) ,
            "mcHad"              :   ( 850.3, 345.4, 258.7, 91.13, 36.44, 13.41, 6.484, 4.587, ) ,
            "mcTtw"              :   ( 652.3, 257.0, 194.1, 66.1, 26.15, 9.056, 4.548, 2.996, ) ,
            "mcMuon"             :   ( 2.055e+03, 1.116e+03, 1.031e+03, 503.9, 234.0, 110.7, 54.37, 72.12, ) ,
            "mcZinv"             :   ( 198.0, 88.35, 64.61, 25.03, 10.29, 4.355, 1.936, 1.591, ) ,
            "mcMumu"             :   ( 101.1, 60.28, 52.09, 26.7, 13.7, 5.917, 4.351, 3.514, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 50.79, 26.19, 21.44, 13.07, 9.237, 6.407, 4.76, 15.21, ) ,
            "mcMumuErr"          :   ( 5.625, 4.327, 3.551, 2.244, 1.542, 1.409, 0.4464, 0.4437, ) ,
            "mcHadErr"           :   ( 80.28, 22.11, 8.027, 5.074, 3.338, 2.02, 1.534, 1.025, ) ,
            "mcZinvErr"          :   ( 2.073, 1.265, 0.9713, 0.5395, 0.3445, 0.1954, 0.1169, 0.1396, ) ,
            "mcTtwErr"           :   ( 80.25, 22.07, 7.968, 5.045, 3.32, 2.01, 1.53, 1.015, ) ,
            "mcPhotErr"          :   ( None, None, 4.485, 2.609, 1.224, 1.104, 0.7116, 0.4344, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 180.0, 77.0, 21.0, 11.0, 10.0, 2.0, ) ,
            "nHad"               :   ( 712.0, 291.0, 227.0, 77.0, 28.0, 8.0, 3.0, 4.0, ) ,
            "nMuon"              :   ( 1.781e+03, 885.0, 816.0, 379.0, 169.0, 80.0, 40.0, 25.0, ) ,
            "nMumu"              :   ( 82.0, 46.0, 53.0, 24.0, 10.0, 4.0, 4.0, 3.0, ) ,
            }
        common(self)

class data_2b(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 12.62, 4.729, 2.908, 0.9917, 0.417, 0.2417, ) ,
            "mcHad"              :   ( 191.7, 83.79, 71.11, 25.0, 12.08, 3.279, 2.07, 1.036, ) ,
            "mcTtw"              :   ( 171.3, 75.2, 65.03, 22.52, 11.11, 2.845, 1.883, 0.9026, ) ,
            "mcMuon"             :   ( 806.0, 467.9, 429.2, 230.4, 110.6, 46.92, 25.44, 23.21, ) ,
            "mcZinv"             :   ( 20.43, 8.584, 6.075, 2.479, 0.9739, 0.4341, 0.1874, 0.133, ) ,
            "mcMumu"             :   ( 25.72, 16.34, 11.78, 6.852, 3.351, 0.7221, 0.561, 0.7086, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 26.73, 14.65, 10.54, 9.364, 3.804, 2.443, 1.815, 1.835, ) ,
            "mcMumuErr"          :   ( 2.553, 2.337, 1.935, 1.577, 1.007, 0.3002, 0.2884, 0.3785, ) ,
            "mcHadErr"           :   ( 8.956, 2.831, 6.202, 1.578, 1.14, 0.534, 0.4484, 0.3035, ) ,
            "mcZinvErr"          :   ( 0.757, 0.4774, 0.3437, 0.1957, 0.125, 0.07974, 0.05228, 0.0336, ) ,
            "mcTtwErr"           :   ( 8.923, 2.79, 6.192, 1.566, 1.133, 0.528, 0.4453, 0.3016, ) ,
            "mcPhotErr"          :   ( None, None, 1.752, 0.9673, 0.8437, 0.4422, 0.1816, 0.06887, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 18.0, 9.0, 1.0, 1.0, 0.0, 2.0, ) ,
            "nHad"               :   ( 196.0, 79.0, 56.0, 34.0, 10.0, 2.0, 0.0, 2.0, ) ,
            "nMuon"              :   ( 775.0, 369.0, 357.0, 187.0, 71.0, 35.0, 15.0, 10.0, ) ,
            "nMumu"              :   ( 16.0, 13.0, 14.0, 4.0, 0.0, 1.0, 0.0, 2.0, ) ,
            }
        common(self)

class data_ge3b(data) :
    def _fill(self) :
        self._mcExpectationsBeforeTrigger =  	{
            "mcPhot"             :   ( None, None, 0.3415, 0.1398, 0.09603, 0.03221, 0.006594, 0.0006356, ) ,
            "mcHad"              :   ( 12.91, 6.347, 5.736, 2.831, 1.827, 0.4979, 0.4033, 0.1946, ) ,
            "mcTtw"              :   ( 12.42, 6.129, 5.573, 2.756, 1.794, 0.4808, 0.3965, 0.1902, ) ,
            "mcMuon"             :   ( 45.99, 28.43, 29.75, 25.46, 12.77, 5.893, 3.673, 4.249, ) ,
            "mcZinv"             :   ( 0.4933, 0.2185, 0.1628, 0.0748, 0.03285, 0.01709, 0.006875, 0.004326, ) ,
            "mcMumu"             :   ( 0.7754, 0.4752, 0.4371, 0.2939, 0.2108, 0.04563, 0.05532, 0.03983, ) ,
            }
        
        self._mcStatError =  	{
            "mcMuonErr"          :   ( 0.8551, 0.6668, 0.3819, 0.6355, 0.2862, 0.1864, 0.1547, 0.1413, ) ,
            "mcMumuErr"          :   ( 0.07225, 0.06351, 0.06375, 0.05153, 0.05458, 0.01225, 0.02138, 0.01792, ) ,
            "mcHadErr"           :   ( 0.4392, 0.1656, 0.3098, 0.1195, 0.1068, 0.04869, 0.04277, 0.03188, ) ,
            "mcZinvErr"          :   ( 0.02019, 0.01345, 0.01041, 0.006537, 0.004529, 0.003466, 0.002254, 0.00128, ) ,
            "mcTtwErr"           :   ( 0.4388, 0.165, 0.3096, 0.1193, 0.1067, 0.04856, 0.04271, 0.03186, ) ,
            "mcPhotErr"          :   ( None, None, 0.05425, 0.03295, 0.03007, 0.01745, 0.005359, 0.0, ) ,
            }
        
        self._observations =  	{
            "nPhot"              :   ( None, None, 1.0, 2.0, 0.0, 0.0, 0.0, 0.0, ) ,
            "nHad"               :   ( 17.0, 1.0, 3.0, 2.0, 1.0, 1.0, 0.0, 0.0, ) ,
            "nMuon"              :   ( 49.0, 31.0, 29.0, 16.0, 8.0, 4.0, 2.0, 2.0, ) ,
            "nMumu"              :   ( 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ) ,
            }
        common(self)
